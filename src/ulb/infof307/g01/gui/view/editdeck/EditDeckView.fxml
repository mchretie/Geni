<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.web.*?>
<?import org.kordamp.ikonli.javafx.*?>

<HBox fx:id="hbox" spacing="20" style="-fx-background-color: #ffffff;" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ulb.infof307.g01.gui.view.editdeck.EditDeckViewController">

    <!-- Left side -->
    <VBox fx:id="leftVbox" HBox.hgrow="ALWAYS">
        <!-- Deck name -->
        <HBox alignment="CENTER" HBox.hgrow="ALWAYS">
            <TextField fx:id="deckNameText" alignment="CENTER" onKeyPressed="#handleTextFieldKeyPressed" onKeyReleased="#handleUpdateDeckName" style="-fx-background-color: #00000000;" text="Deck Name">

                <font>
                    <Font name="System Italic" size="28.0" />
                </font>
            </TextField>

            <Button style="-fx-background-color: transparent">
                <graphic>
                    <FontIcon iconLiteral="mdi2p-pencil" iconSize="25" />
                </graphic>
            </Button>
        </HBox>

        <!-- Tags -->
        <TextField fx:id="tagsInput" onKeyPressed="#handleTagAdded" promptText="Entrez un nouveau tag" />

        <ScrollPane hbarPolicy="NEVER" layoutX="14.0" layoutY="102.0" prefHeight="38.0" prefWidth="351.0" vbarPolicy="NEVER">
            <HBox fx:id="tagsBox" alignment="CENTER_LEFT" style="-fx-background-color: #f0f0f0;" />
        </ScrollPane>

        <VBox style="-fx-background-color: #f0f0f0;" VBox.vgrow="ALWAYS">
            <ListView fx:id="cardsContainer" onMouseClicked="#handleCardPreviewClicked" VBox.vgrow="ALWAYS" />
        </VBox>

        <HBox alignment="CENTER" prefHeight="50.0" style="-fx-background-color: #5ab970;">

            <Button layoutX="180" onMouseClicked="#handleAddCardClicked" prefHeight="49.0" prefWidth="53.0" style="-fx-background-color: transparent;">

                <graphic>
                    <FontIcon fx:id="addCardIcon" iconLiteral="mdi2c-card-plus-outline" iconSize="25" onMouseEntered="#handleAddCardHover" onMouseExited="#handleAddHoverExit" />
                </graphic>
            </Button>

            <Button layoutX="180" onMouseClicked="#handleRemoveCardClicked" prefHeight="50.0" prefWidth="54.0" style="-fx-background-color: transparent;">

                <graphic>
                    <FontIcon fx:id="removeCardIcon" iconLiteral="mdi2t-trash-can-outline" iconSize="25" onMouseEntered="#handleRemoveCardHover" onMouseExited="#handleRemoveCardHoverExit" wrappingWidth="25.0" />
                </graphic>
            </Button>
        </HBox>

        <HBox fx:id="cardTypeBox" alignment="CENTER" spacing="30" visible="false" HBox.hgrow="ALWAYS">

            <Button fx:id="QCMCardButton" onMouseClicked="#handleQCMSelected" minWidth="100" HBox.hgrow="ALWAYS" text="QCM Card">

            </Button>
            <Button fx:id="NormalCardButton" onMouseClicked="#handleNormalSelected" minWidth="100" HBox.hgrow="ALWAYS" text="Normal Card">

            </Button>
         <VBox.margin>
            <Insets top="5.0" />
         </VBox.margin>

        </HBox>

      <padding>
         <Insets left="15.0" />
      </padding>
    </VBox>


    <!-- Right side -->
    <VBox fx:id="rightVbox" HBox.hgrow="ALWAYS">

        <HBox alignment="CENTER" spacing="50">
            <ColorPicker fx:id="colorPicker" onAction="#handleColorButtonClicked" onMouseEntered="#handleColorPickerHover" onMouseExited="#handleColorPickerExit" prefHeight="40.0" prefWidth="140.0" style="-fx-background-color: #5ab970;" />

            <Button fx:id="imageUploader" mnemonicParsing="false" onAction="#handleUploadImageClicked" onMouseEntered="#handleUploadImageHover" onMouseExited="#handleUploadImageExit" prefHeight="40.0" prefWidth="140.0" style="-fx-background-color: #5ab970;" text="Upload image" />
        </HBox>

        <!-- Card -->
        <BorderPane fx:id="frontCard" style="-fx-border-color: black; -fx-border-radius: 15px; -fx-background-radius: 15px;" visible="false" VBox.vgrow="ALWAYS">

            <center>
                <WebView fx:id="frontCardWebView" maxHeight="180.0" onKeyPressed="#handleTextFieldKeyPressed" BorderPane.alignment="TOP_CENTER" VBox.vgrow="ALWAYS">
               <BorderPane.margin>
                  <Insets />
               </BorderPane.margin></WebView>
            </center>

            <right>
                <Button onMousePressed="#handleFrontEditClicked" style="-fx-background-color: transparent;">

                    <graphic>
                        <FontIcon fx:id="frontCardEditIcon" iconLiteral="mdi2p-pencil" iconSize="22" onMouseEntered="#handleFrontCardEditHover" onMouseExited="#handleFrontCardEditHoverExit" wrappingWidth="25.0" />
                    </graphic>
                </Button>
            </right>

             <VBox.margin>
                <Insets bottom="15.0" right="10.0" top="15.0" />
             </VBox.margin>

         <padding>
            <Insets bottom="5.0" left="5.0" />
         </padding>
        </BorderPane>

        <!-- Back of card -->
        <StackPane fx:id="backCard" visible="false" VBox.vgrow="ALWAYS">

            <TextField fx:id="backCardText" alignment="CENTER" onKeyPressed="#handleTextFieldKeyPressed" prefHeight="205.0" style="-fx-background-color: #f0f0f0;                        -fx-border-radius: 20px;                        -fx-background-radius: 20px;" VBox.vgrow="ALWAYS">

                <font>
                    <Font size="24.0" />
                </font>
            <StackPane.margin>
               <Insets right="10.0" />
            </StackPane.margin>
            </TextField>
        </StackPane>

      <padding>
         <Insets top="20.0" />
      </padding>

    </VBox>

   <padding>
      <Insets bottom="10.0" />
   </padding>

</HBox>
