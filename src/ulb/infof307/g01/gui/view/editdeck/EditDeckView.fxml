<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import org.kordamp.ikonli.javafx.*?>

<HBox fx:id="hbox" prefHeight="604.0" prefWidth="892.0" spacing="20" style="-fx-background-color: #ffffff;" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="ulb.infof307.g01.gui.view.editdeck.EditDeckViewController">

    <!-- Left side -->
    <VBox fx:id="leftVbox" HBox.hgrow="ALWAYS">
        <!-- Deck name -->
        <HBox alignment="CENTER" HBox.hgrow="ALWAYS">
            <TextField fx:id="deckNameText" alignment="CENTER" onKeyPressed="#handleTextFieldKeyPressed" onKeyReleased="#handleUpdateDeckName" style="-fx-background-color: #00000000;" text="Deck Name">

                <font>
                    <Font name="System Italic" size="28.0" />
                </font>
            </TextField>

            <Button style="-fx-background-color: transparent">
                <graphic>
                    <FontIcon iconLiteral="mdi2p-pencil" iconSize="25" />
                </graphic>
            </Button>
        </HBox>

        <!-- Tags -->
        <TextField fx:id="tagsInput" onKeyPressed="#handleTagAdded" promptText="Entrez un nouveau tag" />

        <ScrollPane hbarPolicy="NEVER" layoutX="14.0" layoutY="102.0" prefHeight="38.0" prefWidth="351.0" vbarPolicy="NEVER">
            <HBox fx:id="tagsBox" alignment="CENTER_LEFT" style="-fx-background-color: #f0f0f0;" />
        </ScrollPane>

        <VBox style="-fx-background-color: #f0f0f0;" VBox.vgrow="ALWAYS">
            <ListView fx:id="cardsContainer" onMouseClicked="#handleCardPreviewClicked" VBox.vgrow="ALWAYS" />
        </VBox>

        <HBox alignment="CENTER" prefHeight="50.0" style="-fx-background-color: #5ab970;">

            <Button layoutX="180" onMouseClicked="#handleAddCardClicked" prefHeight="50.0" prefWidth="50.0" style="-fx-background-color: transparent;">

                <graphic>
                    <FontIcon fx:id="addCardIcon" iconLiteral="mdi2c-card-plus-outline" iconSize="25" onMouseEntered="#handleAddCardHover" onMouseExited="#handleAddHoverExit" />
                </graphic>
            </Button>

            <Button layoutX="180" onMouseClicked="#handleRemoveCardClicked" prefHeight="50.0" prefWidth="50.0" style="-fx-background-color: transparent;">

                <graphic>
                    <FontIcon fx:id="removeCardIcon" iconLiteral="mdi2t-trash-can-outline" iconSize="25" onMouseEntered="#handleRemoveCardHover" onMouseExited="#handleRemoveCardHoverExit" wrappingWidth="25.0" />
                </graphic>
            </Button>
        </HBox>

        <HBox fx:id="cardTypeButtons" alignment="CENTER" spacing="30" visible="false" HBox.hgrow="ALWAYS">

            <Button fx:id="QCMButton" minWidth="100" onMouseClicked="#handleQCMCardEdit" text="QCM Card" HBox.hgrow="ALWAYS" />

            <Button fx:id="flashCardButton" minWidth="100" onMouseClicked="#handleFlashCardEdit" text="Normal Card" HBox.hgrow="ALWAYS" />

            <VBox.margin>
                <Insets top="5.0" />
            </VBox.margin>

        </HBox>

        <padding>
            <Insets left="15.0" />
        </padding>

    </VBox>


    <!--Right side-->
    <VBox prefHeight="594.0" prefWidth="505.0">
        <HBox alignment="CENTER" spacing="50">
            <ColorPicker fx:id="colorPicker" onAction="#handleColorButtonClicked" onMouseEntered="#handleColorPickerHover" onMouseExited="#handleColorPickerExit" prefHeight="40.0" prefWidth="140.0" style="-fx-background-color: #5ab970;" />

            <Button fx:id="imageUploader" mnemonicParsing="false" onAction="#handleUploadImageClicked" onMouseEntered="#handleUploadImageHover" onMouseExited="#handleUploadImageExit" prefHeight="40.0" prefWidth="140.0" style="-fx-background-color: #5ab970;" text="Upload image" />
        </HBox>

        <!-- Card Editor -->
        <StackPane fx:id="cardEditor" layoutX="372.0" layoutY="78.0" prefHeight="435.0" prefWidth="470.0" VBox.vgrow="ALWAYS" />

        <padding>
         <Insets top="20.0" />
      </padding>
    </VBox>

   <padding>
      <Insets bottom="10.0" />
   </padding>

</HBox>
